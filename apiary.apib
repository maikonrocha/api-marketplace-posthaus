FORMAT: 1A
HOST: http://polls.apiblueprint.org/

# API Marketplace Posthaus

This API intends to integrate the data between the Posthaus Marketplace Platform and the Sellers.

**Note:** Non-mandatory attributes and parameters will be identified with the "optional".

# Group Order
It will be used to read information about Orders in Posthaus.

## Order by id [/rest/orders/v1/{order_id}]

+ Parameters
    + order_id (required, number, `999558695`) ... Order ID generated by Posthaus

+ Attributes (object)
    + order (OrderGet)

### Read a Order [GET]
Returns the Order details by Order number.

+ Request (application/json)
    + Headers

            Accept: application/json
            Authorization: eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpYXQiOjE0Mzg4Mjc0NDN9.POonh-FngFnKeCgDfjjoemmF3Mt8HP2CThHwDLYuYnQ

+ Response 200 (application/json)
    + Attributes (Order by id)
    
        {
          "id": 0,
          "partnerId": "",
          "createdAt": "2018-08-08T10:40:32Z",
          "paymentDate": "2018-08-08T10:40:32Z",
          "status": "PENDING",
          "discount": 2.10,
          "freight": 9.90,
          "shippingtype": "NORMAL",
          "gross": 60,
          "total": 69.90,
          "invoices": [
            {
                "accessKey": "NFe35080599999090910270550010000000015180051273",
                "series": "1",
                "number": "35",
                "date": "2018-08-08T10:40:32Z"
            }
          ],
          "shipping": {
            "city": "Blumenau",
            "state": "SC",
            "country": "Brasil",
            "address": "Rua Sete de Setembro, 1069, 1º. Andar - Sala 10A - Edifício Dumóvel - 89.010-207 - Blumenau - SC ",
            "number": "1069",
            "neighborhood": "Centro",
            "street": "Rua Sete de Setembro",
            "comment": "",
            "reference": "Sala 10A - Edifício Dumóvel",
            "zipCode": "89010207",
            "receiverName": "João",
            "promisedShippingTime": "2018-08-08T10:40:32Z"
          },
          "buyer": {
            "name": "João",
            "document": "56786132006",
            "documentType": "CPF",
            "phone": "554733385566",
            "cellPhone": "5547988995566"
          },
          "payments": {
              "method": {
                "id": 0,
                "description": "CREDIT CARD"
              }
              "value": 69.90,
              "installments": 2,
              "marketplaceFee": 5.0
          },
          "items": [
            {
              "product": {
                "id": 568898,
                "title": "Vestido da moda"
              },
              "sku": {
                "id": 568898,
                "title": "Vestido da moda",
                "partnerId": "F7778458"
              },
              "amount": 1,
              "unit": 69.90,
              "gross": 69.90,
              "total": 67.91,
              "discount": 1.99,
              "orderItemId": "1"
            }
          ],
          "tracking": {
            "url": "http://websro.correios.com.br/sro_bin",
            "number": "SP89598599",
            "carrier": "CORREIOS",
            "carrierDocument": "14317819000191",
            "estimateDate": "2018-08-08T10:40:32Z",
            "shippedDate": "2018-08-08T10:40:32Z"
          }
        }

### Update order status to Sent [PUT]
Updates Order status by Order number to Sent. Body parameter `status` defines the new Order status.
Changing to this situation requires the following information: Tracking URL, Tracking Number, Carrier Name and Ship Date.

+ Request (application/json)
    + Headers

            Accept: application/json
            Authorization: eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpYXQiOjE0Mzg4Mjc0NDN9.POonh-FngFnKeCgDfjjoemmF3Mt8HP2CThHwDLYuYnQ
            
    + Body  
    
            {
                "status": "SENT",
                "tracking": {
                    "url": "http://websro.correios.com.br/sro_bin",
                    "number": "SP89598599",
                    "carrier": "CORREIOS",
                    "carrierDocument": "14317819000191",
                    "estimateDate": "2018-08-08T10:40:32Z",
                    "shippedDate": "2018-08-08T10:40:32Z"
              }
            }

+ Response 200 (application/json)
    + Attributes (Order by id)
    
        {
          "id": 0,
          "partnerId": "",
          "createdAt": "2018-08-08T10:40:32Z",
          "paymentDate": "2018-08-08T10:40:32Z",
          "status": "PENDING",
          "discount": 2.10,
          "freight": 9.90,
          "shippingtype": "NORMAL",
          "gross": 60,
          "total": 69.90,
          "invoices": [
            {
                "accessKey": "NFe35080599999090910270550010000000015180051273",
                "series": "1",
                "number": "35",
                "date": "2018-08-08T10:40:32Z"
            }
          ],
          "shipping": {
            "city": "Blumenau",
            "state": "SC",
            "country": "Brasil",
            "address": "Rua Sete de Setembro, 1069, 1º. Andar - Sala 10A - Edifício Dumóvel - 89.010-207 - Blumenau - SC ",
            "number": "1069",
            "neighborhood": "Centro",
            "street": "Rua Sete de Setembro",
            "comment": "",
            "reference": "Sala 10A - Edifício Dumóvel",
            "zipCode": "89010207",
            "receiverName": "João",
            "promisedShippingTime": "2018-08-08T10:40:32Z"
          },
          "buyer": {
            "name": "João",
            "document": "56786132006",
            "documentType": "CPF",
            "phone": "554733385566",
            "cellPhone": "5547988995566"
          },
          "payments": {
              "method": {
                "id": 0,
                "description": "CREDIT CARD"
              }
              "value": 69.90,
              "installments": 2,
              "marketplaceFee": 5.0
          },
          "items": [
            {
              "product": {
                "id": 568898,
                "title": "Vestido da moda"
              },
              "sku": {
                "id": 568898,
                "title": "Vestido da moda",
                "partnerId": "F7778458"
              },
              "amount": 1,
              "unit": 69.90,
              "gross": 69.90,
              "total": 67.91,
              "discount": 1.99,
              "orderItemId": "1"
            }
          ],
          "tracking": {
            "url": "http://websro.correios.com.br/sro_bin",
            "number": "SP89598599",
            "carrier": "CORREIOS",
            "carrierDocument": "14317819000191",
            "estimateDate": "2018-08-08T10:40:32Z",
            "shippedDate": "2018-08-08T10:40:32Z"
          }
        }

+ Response 400 (application/json)


### Update order status to Delivered [PUT]
Updates Order status by Order number to Delivered. Body parameter `status` defines the new order status.
It is the last situation of the request. Changing to this situation it is necessary to inform: date of delivery.

+ Request (application/json)
    + Headers

            Accept: application/json
            Authorization: eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpYXQiOjE0Mzg4Mjc0NDN9.POonh-FngFnKeCgDfjjoemmF3Mt8HP2CThHwDLYuYnQ
            
    + Body  
    
            {
                "status": "DELIVERED",
                "tracking": {
                    "deliveredDate": "2018-08-08T10:40:32Z"
              }
            }

+ Response 200 (application/json)
    + Attributes (Order by id)
    
        {
          "id": 0,
          "partnerId": "",
          "createdAt": "2018-08-08T10:40:32Z",
          "paymentDate": "2018-08-08T10:40:32Z",
          "status": "PENDING",
          "discount": 2.10,
          "freight": 9.90,
          "shippingtype": "NORMAL",
          "gross": 60,
          "total": 69.90,
          "invoices": [
            {
                "accessKey": "NFe35080599999090910270550010000000015180051273",
                "series": "1",
                "number": "35",
                "date": "2018-08-08T10:40:32Z"
            }
          ],
          "shipping": {
            "city": "Blumenau",
            "state": "SC",
            "country": "Brasil",
            "address": "Rua Sete de Setembro, 1069, 1º. Andar - Sala 10A - Edifício Dumóvel - 89.010-207 - Blumenau - SC ",
            "number": "1069",
            "neighborhood": "Centro",
            "street": "Rua Sete de Setembro",
            "comment": "",
            "reference": "Sala 10A - Edifício Dumóvel",
            "zipCode": "89010207",
            "receiverName": "João",
            "promisedShippingTime": "2018-08-08T10:40:32Z"
          },
          "buyer": {
            "name": "João",
            "document": "56786132006",
            "documentType": "CPF",
            "phone": "554733385566",
            "cellPhone": "5547988995566"
          },
          "payments": {
              "method": {
                "id": 0,
                "description": "CREDIT CARD"
              }
              "value": 69.90,
              "installments": 2,
              "marketplaceFee": 5.0
          },
          "items": [
            {
              "product": {
                "id": 568898,
                "title": "Vestido da moda"
              },
              "sku": {
                "id": 568898,
                "title": "Vestido da moda",
                "partnerId": "F7778458"
              },
              "amount": 1,
              "unit": 69.90,
              "gross": 69.90,
              "total": 67.91,
              "discount": 1.99,
              "orderItemId": "1"
            }
          ],
          "tracking": {
            "url": "http://websro.correios.com.br/sro_bin",
            "number": "SP89598599",
            "carrier": "CORREIOS",
            "carrierDocument": "14317819000191",
            "estimateDate": "2018-08-08T10:40:32Z",
            "shippedDate": "2018-08-08T10:40:32Z"
          }
        }

+ Response 400 (application/json)


### Update order status to Calceled [PUT]
Updates order status by order number to Calceled. Body parameter `status` defines the new order status.
Attribute canceledReason values, STOCK_UNAVAILABLE, DELIVERY_UNAVAILABLE or DELIVERY_REFUSED.

+ Request (application/json)
    + Headers

            Accept: application/json
            Authorization: eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpYXQiOjE0Mzg4Mjc0NDN9.POonh-FngFnKeCgDfjjoemmF3Mt8HP2CThHwDLYuYnQ
            
    + Body  
    
            {
                "status": "CANCELED",
                "canceledReason": "STOCK_UNAVAILABLE"
            }

+ Response 200 (application/json)
    + Attributes (Order by id)
    
        {
          "id": 0,
          "partnerId": "",
          "createdAt": "2018-08-08T10:40:32Z",
          "paymentDate": "2018-08-08T10:40:32Z",
          "status": "PENDING",
          "discount": 2.10,
          "freight": 9.90,
          "shippingtype": "NORMAL",
          "gross": 60,
          "total": 69.90,
          "invoices": [
            {
                "accessKey": "NFe35080599999090910270550010000000015180051273",
                "series": "1",
                "number": "35",
                "date": "2018-08-08T10:40:32Z"
            }
          ],
          "shipping": {
            "city": "Blumenau",
            "state": "SC",
            "country": "Brasil",
            "address": "Rua Sete de Setembro, 1069, 1º. Andar - Sala 10A - Edifício Dumóvel - 89.010-207 - Blumenau - SC ",
            "number": "1069",
            "neighborhood": "Centro",
            "street": "Rua Sete de Setembro",
            "comment": "",
            "reference": "Sala 10A - Edifício Dumóvel",
            "zipCode": "89010207",
            "receiverName": "João",
            "promisedShippingTime": "2018-08-08T10:40:32Z"
          },
          "buyer": {
            "name": "João",
            "document": "56786132006",
            "documentType": "CPF",
            "phone": "554733385566",
            "cellPhone": "5547988995566"
          },
          "payments": {
              "method": {
                "id": 0,
                "description": "CREDIT CARD"
              }
              "value": 69.90,
              "installments": 2,
              "marketplaceFee": 5.0
          },
          "items": [
            {
              "product": {
                "id": 568898,
                "title": "Vestido da moda"
              },
              "sku": {
                "id": 568898,
                "title": "Vestido da moda",
                "partnerId": "F7778458"
              },
              "amount": 1,
              "unit": 69.90,
              "gross": 69.90,
              "total": 67.91,
              "discount": 1.99,
              "orderItemId": "1"
            }
          ],
          "tracking": {
            "url": "http://websro.correios.com.br/sro_bin",
            "number": "SP89598599",
            "carrier": "CORREIOS",
            "date": "2018-08-08T10:40:32Z",
            "deliveredDate": "2018-08-08T10:40:32Z",
            "estimateDate": "2018-08-08T10:40:32Z",
            "shippedDate": "2018-08-08T10:40:32Z"
          }
        }

+ Response 400 (application/json)


### Update order status to Invoiced [PUT]
Updates order status by order number to Invoiced. Body parameter `status` defines the new order status.
Changing to this situation is necessary to inform: note number, serial number, date of issue and access key.

+ Request (application/json)
    + Headers

            Accept: application/json
            Authorization: eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpYXQiOjE0Mzg4Mjc0NDN9.POonh-FngFnKeCgDfjjoemmF3Mt8HP2CThHwDLYuYnQ
            
    + Body  
    
            {
                "status": "INVOICED",
                "invoices": [
                    {
                        "accessKey": "NFe35080599999090910270550010000000015180051273",
                        "series": "1",
                        "number": "35",
                        "date": "2018-08-08T10:40:32Z",
                        "value": "110.39"
                    }
                ]
            }

+ Response 200 (application/json)
    + Attributes (Order by id)
    
        {
          "id": 0,
          "partnerId": "",
          "createdAt": "2018-08-08T10:40:32Z",
          "paymentDate": "2018-08-08T10:40:32Z",
          "status": "PENDING",
          "discount": 2.10,
          "freight": 9.90,
          "shippingtype": "NORMAL",
          "gross": 60,
          "total": 69.90,
          "invoices": [
            {
                "accessKey": "NFe35080599999090910270550010000000015180051273",
                "series": "1",
                "number": "35",
                "date": "2018-08-08T10:40:32Z",
                "value": "110.39"
            }
          ],
          "shipping": {
            "city": "Blumenau",
            "state": "SC",
            "country": "Brasil",
            "address": "Rua Sete de Setembro, 1069, 1º. Andar - Sala 10A - Edifício Dumóvel - 89.010-207 - Blumenau - SC ",
            "number": "1069",
            "neighborhood": "Centro",
            "street": "Rua Sete de Setembro",
            "comment": "",
            "reference": "Sala 10A - Edifício Dumóvel",
            "zipCode": "89010207",
            "receiverName": "João",
            "promisedShippingTime": "2018-08-08T10:40:32Z"
          },
          "buyer": {
            "name": "João",
            "document": "56786132006",
            "documentType": "CPF",
            "phone": "554733385566",
            "cellPhone": "5547988995566"
          },
          "payments": {
              "method": {
                "id": 0,
                "description": "CREDIT CARD"
              }
              "value": 69.90,
              "installments": 2,
              "marketplaceFee": 5.0
          },
          "items": [
            {
              "product": {
                "id": 568898,
                "title": "Vestido da moda"
              },
              "sku": {
                "id": 568898,
                "title": "Vestido da moda",
                "partnerId": "F7778458"
              },
              "amount": 1,
              "unit": 69.90,
              "gross": 69.90,
              "total": 67.91,
              "discount": 1.99,
              "orderItemId": "1"
            }
          ],
          "tracking": {
            "url": "http://websro.correios.com.br/sro_bin",
            "number": "SP89598599",
            "carrier": "CORREIOS",
            "date": "2018-08-08T10:40:32Z",
            "deliveredDate": "2018-08-08T10:40:32Z",
            "estimateDate": "2018-08-08T10:40:32Z",
            "shippedDate": "2018-08-08T10:40:32Z"
          }
        }

+ Response 400 (application/json)


### Update order status to Integrated [PUT]
Updates order status by order number to Integrated. Body parameter `status` defines the new order status.
Changing to this situation requires the following information: List of canceled items (can be empty).

+ Request (application/json)
    + Headers

            Accept: application/json
            Authorization: eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpYXQiOjE0Mzg4Mjc0NDN9.POonh-FngFnKeCgDfjjoemmF3Mt8HP2CThHwDLYuYnQ
            
    + Body  
    
            {
                "status": "INTEGRATED",
                "partnerId": "959647497",
                "canceledSku": [
                    "4984877987",
                    "4984877981",
                    "4984877982"
                ]
            }

+ Response 200 (application/json)
    + Attributes (Order by id)
    
        {
          "id": 0,
          "partnerId": "",
          "createdAt": "2018-08-08T10:40:32Z",
          "paymentDate": "2018-08-08T10:40:32Z",
          "status": "PENDING",
          "discount": 2.10,
          "freight": 9.90,
          "shippingtype": "NORMAL",
          "gross": 60,
          "total": 69.90,
          "invoices": [{
            "accessKey": "NFe35080599999090910270550010000000015180051273",
            "series": "1",
            "number": "35",
            "date": "2018-08-08T10:40:32Z",
            "value": "110.39"
          }],
          "shipping": {
            "city": "Blumenau",
            "state": "SC",
            "country": "Brasil",
            "address": "Rua Sete de Setembro, 1069, 1º. Andar - Sala 10A - Edifício Dumóvel - 89.010-207 - Blumenau - SC ",
            "number": "1069",
            "neighborhood": "Centro",
            "street": "Rua Sete de Setembro",
            "comment": "",
            "reference": "Sala 10A - Edifício Dumóvel",
            "zipCode": "89010207",
            "receiverName": "João",
            "promisedShippingTime": "2018-08-08T10:40:32Z"
          },
          "buyer": {
            "name": "João",
            "document": "56786132006",
            "documentType": "CPF",
            "phone": "554733385566",
            "cellPhone": "5547988995566"
          },
          "payments": {
              "method": {
                "id": 0,
                "description": "CREDIT CARD"
              }
              "value": 69.90,
              "installments": 2,
              "marketplaceFee": 5.0
          },
          "items": [
            {
              "product": {
                "id": 568898,
                "title": "Vestido da moda"
              },
              "sku": {
                "id": 568898,
                "title": "Vestido da moda",
                "partnerId": "F7778458"
              },
              "amount": 1,
              "unit": 69.90,
              "gross": 69.90,
              "total": 67.91,
              "discount": 1.99,
              "orderItemId": "1"
            }
          ],
          "tracking": {
            "url": "http://websro.correios.com.br/sro_bin",
            "number": "SP89598599",
            "carrier": "CORREIOS",
            "date": "2018-08-08T10:40:32Z",
            "deliveredDate": "2018-08-08T10:40:32Z",
            "estimateDate": "2018-08-08T10:40:32Z",
            "shippedDate": "2018-08-08T10:40:32Z"
          }
        }

+ Response 400 (application/json)


### Send XML NF-e [PUT /rest/orders/v1/{order_id}/nfe]
Send the XMl from NF-e to the Marketplace. Only XML content should be sent.

+ Request (application/json)
    + Headers

            Accept: application/json
            Authorization: eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpYXQiOjE0Mzg4Mjc0NDN9.POonh-FngFnKeCgDfjjoemmF3Mt8HP2CThHwDLYuYnQ
            
    + Body  
    
            <NFe xmlns="http://www.portalfiscal.inf.br/nfe">
                <infNFe Id="NFe35080599999090910270550010000000015180051273" versao="1.10">
                    <ide>
                        <cUF>35</cUF>
                        <cNF>518005127</cNF>
                        <natOp>Venda a vista</natOp>
                        <indPag>0</indPag>
                        <mod>55</mod>
                        <serie>1</serie>
                        <nNF>1</nNF>
                        <dEmi>2008-05-06</dEmi>
                        <dSaiEnt>2008-05-06</dSaiEnt>
                        <tpNF>0</tpNF>
                        <cMunFG>3550308</cMunFG>
                        <tpImp>1</tpImp>
                        <tpEmis>1</tpEmis>
                        <cDV>3</cDV>
                        <tpAmb>2</tpAmb>
                        <finNFe>1</finNFe>
                        <procEmi>0</procEmi>
                        <verProc>NF-eletronica.com</verProc>
                    </ide>
                </infNFe>
            </NFe>

+ Response 200 (application/json)
+ Response 500 (application/json)


## Orders [/rest/orders/v1{?offset,limit,createdAfter,status,cpf}]
Returns the order details using the filters: createdAfter, status and customer CPF. 

+ Parameters
    + createdAfter (required, string, `2018-08-08T10:40:32Z`) ... Order creation date
    + status (optional, string) ... Order status
    + cpf (optional, string) ... Document number - CPF
    + offset (required, number, `1`) ... Paging position
    + limit (optional, number)

        A limit on the number of objects to be returned. Limit can range
        between 1 and 100 items.

        + Default: `10`

+ Attributes (object)
    + order (OrderGet)
    + page (Page)


### Read list Orders [GET]
Returns the order details.

+ Request (application/json)
    + Headers

            Accept: application/json
            Authorization: eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpYXQiOjE0Mzg4Mjc0NDN9.POonh-FngFnKeCgDfjjoemmF3Mt8HP2CThHwDLYuYnQ

+ Response 200 (application/json)
    + Attributes (Orders)
    
        {
            "content": [
                {
                  "id": 0,
                  "partnerId": "string",
                  "createdAt": "2018-08-08T10:40:32Z",
                  "paymentDate": "2018-08-08T10:40:32Z",
                  "status": "PENDING",
                  "discount": 2.10,
                  "freight": 9.90,
                  "shippingtype": "NORMAL",
                  "gross": 60,
                  "total": 69.90,
                  "invoices": [{
                    "accessKey": "NFe35080599999090910270550010000000015180051273",
                    "series": "1",
                    "number": "35",
                    "date": "2018-08-08T10:40:32Z",
                    "value": "110.39"
                  }],
                  "shipping": {
                    "city": "Blumenau",
                    "state": "SC",
                    "country": "Brasil",
                    "address": "Rua Sete de Setembro, 1069, 1º. Andar - Sala 10A - Edifício Dumóvel - 89.010-207 - Blumenau - SC ",
                    "number": "1069",
                    "neighborhood": "Centro",
                    "street": "Rua Sete de Setembro",
                    "comment": "",
                    "reference": "Sala 10A - Edifício Dumóvel",
                    "zipCode": "89010207",
                    "receiverName": "João",
                    "promisedShippingTime": "2018-08-08T10:40:32Z"
                  },
                  "buyer": {
                    "name": "João",
                    "document": "56786132006",
                    "documentType": "CPF",
                    "phone": "554733385566",
                    "cellPhone": "5547988995566"
                  },
                  "payments": {
                      "method": {
                        "id": 0,
                        "description": "CREDIT CARD"
                      }
                      "value": 69.90,
                      "installments": 2,
                      "marketplaceFee": 5.0
                  },
                  "items": [
                    {
                      "product": {
                        "id": 568898,
                        "title": "Vestido da moda"
                      },
                      "sku": {
                        "id": 568898,
                        "title": "Vestido da moda",
                        "partnerId": "F7778458"
                      },
                      "amount": 1,
                      "unit": 69.90,
                      "gross": 69.90,
                      "total": 67.91,
                      "discount": 1.99,
                      "orderItemId": "1"
                    }
                  ],
                  "tracking": {
                    "url": "http://websro.correios.com.br/sro_bin",
                    "number": "SP89598599",
                    "carrier": "CORREIOS",
                    "date": "2018-08-08T10:40:32Z",
                    "deliveredDate": "2018-08-08T10:40:32Z",
                    "estimateDate": "2018-08-08T10:40:32Z",
                    "shippedDate": "2018-08-08T10:40:32Z"
                  }
                }
            ],
            "page": {
                "size": 2,
                "totalElements": 6,
                "totalPages": 3,
                "number": 1
            }
          }
        }


## Cancel Order Items [/rest/orders/v1/{order_id}/cancelation/]
It will be used to requests the cancellation of items of a Order created by Posthaus.
This trigger will to make items in the marketplace unavailable.

+ Parameters
    + order_id (required, number, `999558695`) ... Order ID generated by Posthaus

### Cancellation of items [POST]
Requests the cancellation of items of a Order.

+ Request (application/json)
    + Headers

            Accept: application/json
            Authorization: eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpYXQiOjE0Mzg4Mjc0NDN9.POonh-FngFnKeCgDfjjoemmF3Mt8HP2CThHwDLYuYnQ
            
    + Body  
    
            {
                "orderId": 595998989,
                "canceledSku": [
                    "4984877987",
                    "4984877981",
                    "4984877982"
                ]
            }

+ Response 204 (application/json)


#Group Notifications
The Marketplace Posthaus add notifications into a queue, the queue order is from the oldest to the newest notification added.
These GET service is going to return the oldest notification, after these notification is going to mark as readed, the next notification is going to be avaliable to GET. 

If the notification won't be readed during 30 days, the SellerCenter is going to automatically mark as read it.

## Order Notifications [/rest/feed/orders/v1/{?offset,limit}]

+ Parameters
    + offset (required, number, `1`) ... Paging position
    + limit (number, optional)

        A limit on the number of objects to be returned. Limit can range
        between 1 and 100 items.
    
        + Default: `10`

+ Attributes (object)
    + notifications (Notifications)
    + page (Page)


### Get order notifications list [GET]
Get a paginated notifications list. Events type supported: NEW_ORDER, AUTHORIZED and CANCELED.

+ Request (application/json)
    + Headers

            Accept: application/json
            Authorization: eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpYXQiOjE0Mzg4Mjc0NDN9.POonh-FngFnKeCgDfjjoemmF3Mt8HP2CThHwDLYuYnQ

+ Response 200 (application/json)

        {
          "notifications": [
            {
              "token": "45g65d4sdf5465sdf5",
              "type": "NEW_ORDER",
              "additionalData": {
                "orderId": 45687920
              },
              "events": [
                {
                  "eventType": "getOrder",
                  "event": "https://www.sellercenter.api.ecosweb.com.br/rest/orders/v1/45687920",
                  "additionalData": {
                    "orderId": 45687920
                  }
                },
                {
                  "eventType": "markAsRead",
                  "event": "https://www.sellercenter.api.ecosweb.com.br/rest/feed/v1/45g65d4sdf5465sdf5",
                  "additionalData": {
                    "token": "45g65d4sdf5465sdf5"
                  }        
                }
              ]
            },
            {
              "token": "45g65d4sdf5465sdrr",
              "type": "CANCELED",
              "additionalData": {
                "orderId": 45687918
              },
              "events": [
                {
                  "eventType": "getOrder",
                  "event": "https://www.sellercenter.api.ecosweb.com.br/rest/orders/v1/45687918",
                  "additionalData": {
                    "orderId": 45687918
                  }
                },
                {
                  "eventType": "markAsRead",
                  "event": "https://www.sellercenter.api.ecosweb.com.br/rest/feed/v1/45g65d4sdf5465sdrr",
                  "additionalData": {
                    "token": "45g65d4sdf5465sdrr"
                  }        
                }
              ]
            },
            {
              "token": "33g65d4sdf5465sdf5",
              "type": "AUTHORIZED",
              "additionalData": {
                "orderId": 45687921
              },
              "events": [
                {
                  "eventType": "getOrder",
                  "event": "https://www.sellercenter.api.ecosweb.com.br/rest/orders/v1/45687921",
                  "additionalData": {
                    "orderId": 45687921
                  }
                },
                {
                  "eventType": "markAsRead",
                  "event": "https://www.sellercenter.api.ecosweb.com.br/rest/feed/v1/33g65d4sdf5465sdf5",
                  "additionalData": {
                    "token": "33g65d4sdf5465sdf5"
                  }        
                }
              ]
            }            
          ],
          "page": {
            "size": 2,
            "totalElements": 6,
            "totalPages": 3,
            "number": 1
          }

        }


## Stock Inconsistent Notifications [/rest/feed/stock/inconsistent/v1{?offset,limit}]

+ Parameters
    + offset (required, number, `1`) ... Paging position
    + limit (number, optional)

        A limit on the number of objects to be returned. Limit can range
        between 1 and 100 items.

        + Default: `10`

+ Attributes (object)
    + notifications (Notifications)
    + page (Page)


### Get Stock inconsistent notifications list [GET]
Get a paginated notifications list. Events type supported: STOCK_INCONSISTENCY.

+ Request (application/json)
    + Headers

            Accept: application/json
            Authorization: eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpYXQiOjE0Mzg4Mjc0NDN9.POonh-FngFnKeCgDfjjoemmF3Mt8HP2CThHwDLYuYnQ

+ Response 200 (application/json)

        {  
           "notifications":[  
              {  
                 "token":"45g65d4sdf5465sdf5",
                 "type":"STOCK_INCONSISTENCY",
                 "additionalData":{  
                    "sku":{  
                       "partnerId":"489764987",
                       "worngAmount":2
                    }
                 },
                 "events":[  
                    {  
                       "eventType":"readSku",
                       "event":"https://www.sellercenter.api.ecosweb.com.br/rest/products/v1/468764584/skus/489764987",
                       "additionalData":{  
                          "product":{  
                             "id":657486,
                             "partnerId":"468764584",
                             "sku":{  
                                "id":"657486-P",
                                "partnerId":"489764987",
        
                             }
                          }
                       }
                    },
                    {  
                       "eventType":"updateStock",
                       "event":"https://www.sellercenter.api.ecosweb.com.br/rest/stocks/v1/",
                       "additionalData":{  
                          "sku":{  
                             "partnerId":"489764987",
                             "quantity":12
                          }
                       }
                    },
                    {  
                       "eventType":"markAsRead",
                       "event":"https://www.sellercenter.api.ecosweb.com.br/rest/feed/v1/45g65d4sdf5465sdf5",
                       "additionalData":{  
                          "token":"45g65d4sdf5465sdf5"
                       }
                    }
                 ]
              },
              {  
                 "token":"45g65d4sdf5465sdf5",
                 "type":"STOCK_INCONSISTENCY",
                 "additionalData":{  
                    "sku":{  
                       "partnerId":"489764987",
                       "worngAmount":2
                    }
                 },
                 "events":[  
                    {  
                       "eventType":"readSku",
                       "event":"https://www.sellercenter.api.ecosweb.com.br/rest/products/v1/468764584/skus/489764987",
                       "additionalData":{  
                          "product":{  
                             "id":657486,
                             "partnerId":"468764584",
                             "sku":{  
                                "id":"657486-P",
                                "partnerId":"489764987",
        
                             }
                          }
                       }
                    },
                    {  
                       "eventType":"updateStock",
                       "event":"https://www.sellercenter.api.ecosweb.com.br/rest/stocks/v1/",
                       "additionalData":{  
                          "sku":{  
                             "partnerId":"489764987",
                             "quantity":12
                          }
                       }
                    },
                    {  
                       "eventType":"markAsRead",
                       "event":"https://www.sellercenter.api.ecosweb.com.br/rest/feed/v1/45g65d4sdf5465sdf5",
                       "additionalData":{  
                          "token":"45g65d4sdf5465sdf5"
                       }
                    }
                 ]
              }
           ],
           "page":{  
              "size":4,
              "totalElements":6,
              "totalPages":3,
              "number":1
           }
        }

## Stock Notifications [/rest/feed/stock/v1{?offset,limit}]

+ Parameters
    + offset (required, number, `1`) ... Paging position
    + limit (number, optional)

        A limit on the number of objects to be returned. Limit can range
        between 1 and 100 items.

        + Default: `10`

+ Attributes (object)
    + notifications (Notifications)
    + page (Page)


### Get Stock notifications list [GET]
Get a paginated notifications list. Events type supported: UPDATE_STOCK.

+ Request (application/json)
    + Headers

            Accept: application/json
            Authorization: eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpYXQiOjE0Mzg4Mjc0NDN9.POonh-FngFnKeCgDfjjoemmF3Mt8HP2CThHwDLYuYnQ

+ Response 200 (application/json)

        {
          "notifications": [
            {
              "token": "45g65d4sdf5465sdf5",
              "type": "UPDATE_STOCK",
              "additionalData": {
                "updateStockID": 16579165,
                "totalUpdateSKU": 1645,
                "notFoundSkusId": [
                    "489764654",
                    "489764965",
                    "489764957"
                ]
              },
              "events": [
                {
                  "eventType": "markAsRead",
                  "event": "https://www.sellercenter.api.ecosweb.com.br/rest/feed/v1/45g65d4sdf5465sdf5",
                  "additionalData": {
                    "token": "45g65d4sdf5465sdf5"
                  }
                }
              ]
            },
            {
              "token": "45g65d4sdf5465sdf5",
              "type": "UPDATE_STOCK",
              "additionalData": {
                "updateStockID": 16579165,
                "totalUpdateSKU": 1645,
                "notFoundSkusId": [
                          "489764654",
                          "489764965",
                          "489764957"
                ]
              },
              "events": [
                {
                  "eventType": "markAsRead",
                  "event": "https://www.sellercenter.api.ecosweb.com.br/rest/feed/v1/45g65d4sdf5465sdf5",
                  "additionalData": {
                    "token": "45g65d4sdf5465sdf5"
                  }
                }
              ]
            },
            {
              "token": "45g65d4sdf5465sdf5",
              "type": "UPDATE_STOCK",
              "additionalData": {
                "updateStockID": 16579165,
                "totalUpdateSKU": 1645,
                "notFoundSkusId": [
                    "489764654",
                    "489764965",
                    "489764957"
                ]
              },
              "events": [
                {
                  "eventType": "markAsRead",
                  "event": "https://www.sellercenter.api.ecosweb.com.br/rest/feed/v1/45g65d4sdf5465sdf5",
                  "additionalData": {
                    "token": "45g65d4sdf5465sdf5"
                  }
                }
              ]
            }
          ],
          "page": {
            "size": 3,
            "totalElements": 6,
            "totalPages": 3,
            "number": 1
          }
        }


## Mark as read notification [/rest/feed/v1/{token}]

### Mark as read notification [PUT]
Mark as read a notification.

+ Parameters
    + token (required, string, `45g65d4sdf5465sdf5`) ... Token

+ Request (application/json)

    + Headers

            Accept: application/json
            Authorization: eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpYXQiOjE0Mzg4Mjc0NDN9.POonh-FngFnKeCgDfjjoemmF3Mt8HP2CThHwDLYuYnQ

+ Response 204



# Group Stock
It will be used to perform stock update.
The stock operation is performed in batch, it is possible to send one or more SKUs to update.

## Stocks [/rest/stocks/v1/]

+ Attributes (object)
    + partnerId: `9995586` (string, required) - Patner product ID
    + quantity: `5` (number, required) - Quantity to be updated


### Update Stock [PUT]
Performs stock update based on partner SKU's.

+ Request (application/json)

    + Headers

            Accept: application/json
            Authorization: eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpYXQiOjE0Mzg4Mjc0NDN9.POonh-FngFnKeCgDfjjoemmF3Mt8HP2CThHwDLYuYnQ

    + Body            

            [
                {
                    "partnerId": "8959860",
                    "quantity": 1
                },
                {
                    "partnerId": "8959861",
                    "quantity": 5
                },
                {
                    "partnerId": "8959862",
                    "quantity": 2
                }
            ]

+ Response 200 (application/json)

        {
            "updateStockID": "16579165",
            "message": "Stock SKU Update List is going to be updated asynchronously."
        }

+ Response 400 (application/json)


# Group SKU

## SKUS [/rest/products/v1/{product_Id}/skus/]

+ Parameters
    + product_Id (required, number, `9995586`) ... Patner product ID

+ Attributes (object)
    + skus (array[Sku])


### Read SKUS [GET]
Returns all SKU from a product.

+ Request (application/json)
    + Headers

            Accept: application/json
            Authorization: eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpYXQiOjE0Mzg4Mjc0NDN9.POonh-FngFnKeCgDfjjoemmF3Mt8HP2CThHwDLYuYnQ
            

+ Response 200 (application/json)
    + Attributes (SKUS)
    
        [
          {
            "id": "458896-P",
            "title": "vestido de festa preto",
            "partnerId": "99955861",
            "ean": "7898357417892",
            "amount": 20,
            "price": 69.90
          },
          {
            "id": "458896-M",
            "title": "vestido de festa preto",
            "partnerId": "99955862",
            "ean": "7898357417892",
            "amount": 10,
            "price": 69.90
          },
          {
            "id": "458896-G",
            "title": "vestido de festa preto",
            "partnerId": "99955863",
            "ean": "7898357417892",
            "amount": 25,
            "price": 69.90
          }          
        ]


## SKU [/rest/products/v1/{product_Id}/skus/{sku_id}]

+ Parameters
    + product_Id (required, number, `9995586`) ... Patner product ID
    + sku_id (required, number, `999558689`) ... Patner SKU ID

+ Attributes (object)
    + sku (Sku)


### Read a SKU [GET]
Returns information about a SKU.


+ Request (application/json)
    + Headers

            Accept: application/json
            Authorization: eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpYXQiOjE0Mzg4Mjc0NDN9.POonh-FngFnKeCgDfjjoemmF3Mt8HP2CThHwDLYuYnQ
            

+ Response 200 (application/json)
    + Attributes (SKU)
    
          {
            "id": "458896-P",
            "title": "vestido de festa preto",
            "partnerId": "999558689",
            "ean": "7898357417892",
            "amount": 20,
            "price": 69.90
          }


# Data Structures

## Page (object)
+ size (number) - Page size
+ totalElements (number) - Total of existing elements
+ totalPages (number) -  Total pages available
+ number (number) - Current page

## Notifications (object)
+ token (string)
+ type (string)

    

+ additionalData
    + orderId (number)
+ events (array)
    + eventType (string)
    
        
    
    + event (string)
    + additionalData
        + orderId (number)

## OrderGet (object)    
+ id (number) - Order ID generated by Posthaus
+ partnerId (string, optional) - Partner Order ID
+ createdAt: `2018-08-08T10:40:32Z` (string) - Order creation date
+ paymentDate: `2018-08-08T10:40:32Z` (string, optional) - Order payment date

        OK. Request synchronized successfully with Marketplace
        ERROR. Error syncing to Marketplace
        WAITING. Waiting for synchronization with Marketplace
        
+ status (string) - Order Status
        
        
        PENDING       
        INTEGRATED     
        WAITING_INVOICE     
        CANCELED             
        INVOICED               
        SENT                    
        DELIVERED 
        
 
+ discount (number) - Order discount
+ freight (number) - Freight value
+ shippingtype (string) - Shipping method selected by customer
+ gross (number) - Gross total without the freight value
+ total (number) - Total order with the freight value
+ invoices (array[OrderInvoice], optional) - Invoice data
+ shipping (OrderShippingAddressGet) - Delivery address
+ buyer (BuyerGet) - Customer data 
+ payments (OrderPaymentGet) - Payment data
+ items (array[OrderShippingItemGet]) - Data for purchased products
+ tracking (OrderTracking, optional) - Delivery data

## OrderInvoice (object)
+ accessKey (string) - Invoice access key
+ series (string) - Invoice serial number
+ number (string) - Invoice number
+ date: `2018-08-08T10:40:32Z` (string) - Date of invoice issue
+ value (number) - Invoice total value

## BuyerGet (object) - Objeto do consumidor
+ name (string) - Buyer name
+ document (string) - Document number
+ documentType (string) - Document type

        Possibles values. CPF, CNPJ, OTHER
        
+ phone (string) - Buyer's phone 
+ cellPhone (string, optional) - Buyer's cellphone

## OrderShippingAddressGet (object)
+ city (string) - City
+ state (string) - State
+ country (string) - Country
+ address (string) - Complete address
+ number (string) - Number
+ neighborhood (string) - Neighborhood
+ street (string) - Street
+ comment (string, optional) - Comment 
+ zipCode (string) - CEP
+ receiverName (string) - Sender's name for delivery
+ promisedShippingTime (string) - Date agreed for delivery

## PaymentMethod (object)
+ id (number) - ID
+ description (string) - Payment method 

        CREDIT CARD (0)
        BILLET (1)
        PAYMENT_ANTICIPATED (3)
        
## OrderPaymentGet (object)
+ method (PaymentMethod) 
+ value (number) - Payment value 
+ installments (number, optional) - Payment installments
+ marketplaceFee (number, optional) - Markplace fee

## OrderShippingItemGet (object)
+ product (SimpleProduct)
+ sku (SimpleSku)
+ amount (number) - Item amount
+ unit (number) - Item price
+ gross (number) - Gross amount of the item (amount * unit)
+ total (number) - Total of the discount item applied (gross - discount)
+ discount (number) - Item discount
+ orderItemId (string): Item ID generated by Posthaus

## OrderTracking (object)
+ url (string, optional) - URL for tracking
+ number (string, optional) - Track number
+ carrier (string) - Carrier name
+ carrierDocument (string) - Carrier Document (CNPJ),
+ deliveredDate: `2018-08-08T10:40:32Z` (string, optional) - Delivery date to customer
+ estimateDate: `2018-08-08T10:40:32Z` (string) - Estimate delivery date
+ shippedDate: `2018-08-08T10:40:32Z` (string) - Carrier received date 

## SimpleProduct (object)
+ id (number) - Product ID in Posthaus
+ title (string) - Product title

## SimpleSku (object)
+ id (string) - SKU ID generated by Posthaus
+ title (string) - SKU title
+ partnerId (string, optional) - Patner SKU ID

## CanceledSku (object)
+ partnerId (string) - Patner SKU ID

## Stock (object)
+ id (string) - SKU ID generated by Posthaus
+ partnerId (string, optional) - Patner SKU ID
+ quantity (number) - quantity for update 
+ cost (number) - Custo médio do SKU no estoque. A partir desse custo será calculado o preço final do produto caso o tipo do cálculo de preço esteja como atutomático. , //REVISAR

## Sku (object)
+ id (number) - SKU ID generated by Posthaus
+ title (number) - SKU title
+ partnerId (string, optional) - Partner SKU ID
+ ean (string, optional) - SKU barcode
+ amount (number) - SKU amount
+ price (number) - SKU price